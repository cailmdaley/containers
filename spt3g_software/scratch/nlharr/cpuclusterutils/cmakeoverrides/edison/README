
You need to add the following to your ~/.bashrc.ext file where you replace PATHTOSPT3GSOFTWARE to the path to your spt3g_software repository

####  TO COPY   ########################

if [ $NERSC_HOST == "edison" ]
then
echo "Running on Eddy"
module swap PrgEnv-intel PrgEnv-gnu
module load cray-hdf5
module load fftw
module load python
module load python-libs
module load gsl
module load boost/1.55

export SPT3G_CMAKE_FIND_OVERRIDE_PATH=PATHTOSPT3GSOFTWARE/clusterutils/cmakeoverrides/edison/

fi

##### END TO COPY #######


Make certain your .bashrc.ext file has something like the following at the top


##### TO COPY #######

if [ -f /usr/common/usg/bin/nersc_host ]; then
  export NERSC_HOST=`/usr/common/usg/bin/nersc_host`
else
  export NERSC_HOST="unknown"
fi

##### END TO COPY #######




Compiling mpibatch.x is annoying on edison.  It fails when using gcc, so in the clusterutils folder just use the command:

cc mpibatch.c -o mpibatch.x 


